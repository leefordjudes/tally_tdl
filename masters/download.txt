[Report: AP Tally Export Master Request]
	Use: Rpc Request
	Local: Field: Rpc Request Method: Set as: "tally_export_master"

[Collection: AP Tally Export Master Data Source]
	Use				: Rpc Data Source
	RemoteRequest	: AP Tally Export Master Request: UTF8
	JSON Object Path: "data:1"
	
[Function: AP Download Masters ]
	VARIABLE	: ProgressCount		: Number
	
	010 : Query Box: "Do you want to download masters" : Yes: No
	020	: 	If	: $$LastResult			
		021: START PROGRESS	: 4:"Downloading":"Masters"
		030: Walk Collection: AP Tally Export Master Data Source 
			040: SET TARGET	: (Company, ##SVCurrentCompany).
			041: SET		: ProgressCount		: 1
			050: Walk Collection: accounts
				060: INSERT COLLECTION OBJECT   : APLedgers
				070: SET VALUE  : APId   		: $id
				080: SET VALUE  : APName 		: $name
				090: SET VALUE  : APAccountType	: $account_type_name
				100: SET VALUE  : APTallyName  	: "-"
				110: Set Target: .. 				
			120: End Walk			
			121: SHOW PROGRESS	: ##ProgressCount
			122: INCREMENT		: ProgressCount
			140: Walk Collection: hsns
				150: INSERT COLLECTION OBJECT   : APStockItems
				160: SET VALUE  : APHsnCode 	: $hsn_code
				170: SET VALUE  : APName		: $narration
				180: SET VALUE  : APTallyName  	: "-"
				190: Set Target: .. 			
			200: End Walk	
			201: SHOW PROGRESS	: ##ProgressCount
			202: INCREMENT		: ProgressCount
			220: Walk Collection: units
				230: INSERT COLLECTION OBJECT   : APUnits
				240: SET VALUE  : APId   : $id
				250: SET VALUE  : APName : $name
				260: SET VALUE  : APUqc  : $uqc	
				270: SET VALUE  : APTallyName  : "-"
				280: Set Target: .. 
			290: End Walk	
			291: SHOW PROGRESS	: ##ProgressCount
			292: INCREMENT		: ProgressCount			
			320: Walk Collection: voucher_types
				330: INSERT COLLECTION OBJECT   : APVoucherTypes
				340: SET VALUE  : APId   		: $id
				350: SET VALUE  : APName 		: $name
				360: SET VALUE  : APVoucherType	: $base_type
				370: SET VALUE  : APTallyName  	: "-"
				380: Set Target: .. 			
			390: End Walk	
			391: SHOW PROGRESS	: ##ProgressCount
			392: INCREMENT		: ProgressCount			
			400: Alter Target
			401: END PROGRESS
		410: End Walk
	420	:	End If



		







